"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2408],{2408:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ei});var a=t(5155),n=t(2115),r=t(1991),l=t(7558),i=t(8497),c=t(6898),o=t(9957),d=t(2834),h=t(7431),m=t(3026);class x{generateGradients(){let e=new Float32Array(1024);for(let s=0;s<256;s++){let t=this.hash(s)/0x80000000*Math.PI*2;e[2*s]=Math.cos(t),e[2*s+1]=Math.sin(t)}for(let s=0;s<256;s++){let t=e[2*s],a=e[2*s+1];e[(s+256)*2]=void 0!==t?t:0,e[(s+256)*2+1]=void 0!==a?a:0}return e}hash(e){let s=this.seed+0x165667b1*e;return Math.abs((s=(s^s>>13)*0x4bf19f61)^s>>16)}fade(e){return e*e*e*(e*(6*e-15)+10)}lerp(e,s,t){return s+e*(t-s)}grad(e,s,t){let a=15&e,n=a<8?s:t,r=a<4?t:12===a||14===a?s:0;return((1&a)==0?n:-n)+((2&a)==0?r:-r)}perlinNoise(e,s){let t=255&Math.floor(e),a=255&Math.floor(s);e-=Math.floor(e),s-=Math.floor(s);let n=this.fade(e),r=this.fade(s),l=this.hash(t)+a,i=this.hash(l),c=this.hash(l+1),o=this.hash(t+1)+a,d=this.hash(o),h=this.hash(o+1);return this.lerp(r,this.lerp(n,this.grad(this.hash(i),e,s),this.grad(this.hash(d),e-1,s)),this.lerp(n,this.grad(this.hash(c),e,s-1),this.grad(this.hash(h),e-1,s-1)))}fbm(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,r=0,l=1,i=1,c=0;for(let o=0;o<t;o++)r+=this.perlinNoise(e*i,s*i)*l,c+=l,l*=n,i*=a;return r/c}ridgeNoise(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=0,n=1,r=1,l=0;for(let i=0;i<t;i++)a+=(1-Math.abs(this.perlinNoise(e*r,s*r)))*n,l+=n,n*=.5,r*=2;return a/l}billowNoise(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=0,n=1,r=1,l=0;for(let i=0;i<t;i++)a+=Math.abs(this.perlinNoise(e*r,s*r))*n,l+=n,n*=.5,r*=2;return a/l}warpedNoise(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=e+this.fbm(.1*e,.1*s,4)*t,n=s+this.fbm(.1*e+100,.1*s+100,4)*t;return this.fbm(a,n,6)}constructor(e=12345){this.seed=e,this.gradients=this.generateGradients()}}class u{getIndex(e,s){return Math.max(0,Math.min(this.width*this.height-1,Math.floor(s)*this.width+Math.floor(e)))}getHeight(e,s){return this.heightMap[this.getIndex(e,s)]||0}calculateGradient(e,s){let t=this.getHeight(e-1,s),a=this.getHeight(e+1,s),n=this.getHeight(e,s-1);return{dx:(a-t)/2,dy:(this.getHeight(e,s+1)-n)/2}}simulate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;for(let o=0;o<e;o++){for(let e=0;e<this.water.length;e++)this.water[e]+=s;for(let e=1;e<this.height-1;e++)for(let s=1;s<this.width-1;s++){let t=this.getIndex(s,e),o=this.calculateGradient(s,e);if(void 0!==this.velocityX[t]&&void 0!==this.velocityY[t]){var a,n,r,l,i,c;this.velocityX[t]+=9.81*o.dx*.01,this.velocityY[t]+=9.81*o.dy*.01,this.velocityX[t]*=.98,this.velocityY[t]*=.98;let e=Math.max(0,Math.sqrt(this.velocityX[t]**2+this.velocityY[t]**2)*(null!=(a=this.water[t])?a:0)*.1);if((null!=(n=this.sediment[t])?n:0)>e){let s=((null!=(r=this.sediment[t])?r:0)-e)*.1;void 0!==this.heightMap[t]&&(this.heightMap[t]+=s,this.sediment[t]=(null!=(l=this.sediment[t])?l:0)-s)}else{let s=Math.min(.01,(e-(null!=(i=this.sediment[t])?i:0))*.1);void 0!==this.heightMap[t]&&(this.heightMap[t]-=s,this.sediment[t]=(null!=(c=this.sediment[t])?c:0)+s)}}}for(let e=0;e<this.water.length;e++){let s=this.water[e];void 0!==s&&(this.water[e]=s*(1-t),this.water[e]<.001&&(this.water[e]=0))}}return this.heightMap}constructor(e,s,t){this.width=e,this.height=s,this.heightMap=new Float32Array(t),this.velocityX=new Float32Array(e*s),this.velocityY=new Float32Array(e*s),this.water=new Float32Array(e*s),this.sediment=new Float32Array(e*s)}}class p{isValidSample(e){var s,t,a;if(e.length<2)return!1;let[n,r]=e;if(void 0===n||void 0===r||n<0||n>=this.width||r<0||r>=this.height)return!1;let l=Math.floor(n/this.cellSize),i=Math.floor(r/this.cellSize),c=Math.max(0,l-2),o=Math.min((null!=(t=null==(s=this.grid[0])?void 0:s.length)?t:0)-1,l+2),d=Math.max(0,i-2),h=Math.min(this.grid.length-1,i+2);for(let e=d;e<=h;e++)for(let s=c;s<=o;s++){let t=null==(a=this.grid[e])?void 0:a[s];if(t&&Math.sqrt((n-t[0])**2+(r-t[1])**2)<this.radius)return!1}return!0}generate(){let e=Math.random()*this.width,s=Math.random()*this.height,t=[e,s];this.samples.push(t),this.active.push(t);let a=Math.floor(e/this.cellSize),n=Math.floor(s/this.cellSize);for(this.grid[n][a]=t;this.active.length>0;){let e=Math.floor(Math.random()*this.active.length),s=this.active[e],t=!1;for(let e=0;e<30;e++){let e=Math.random()*Math.PI*2,a=this.radius+Math.random()*this.radius,n=s[0]+Math.cos(e)*a,r=s[1]+Math.sin(e)*a,l=[n,r];if(this.isValidSample(l)){this.samples.push(l),this.active.push(l);let e=Math.floor(n/this.cellSize),s=Math.floor(r/this.cellSize);this.grid[s][e]=l,t=!0;break}}t||this.active.splice(e,1)}return this.samples}constructor(e,s,t){this.width=e,this.height=s,this.radius=t,this.cellSize=t/Math.sqrt(2);let a=Math.ceil(s/this.cellSize),n=Math.ceil(e/this.cellSize);this.grid=Array(a).fill(null).map(()=>Array(n).fill(null)),this.active=[],this.samples=[]}}var g=function(e){return e.OCEAN="ocean",e.BEACH="beach",e.GRASSLAND="grassland",e.FOREST="forest",e.HILLS="hills",e.MOUNTAINS="mountains",e.SNOW="snow",e.DESERT="desert",e.CANYON="canyon",e.VOLCANIC="volcanic",e.RIVER="river",e.WETLAND="wetland",e}(g||{});let j={ocean:{color:new h.Color(1982639),secondaryColor:new h.Color(1981066),roughness:0,metalness:.9,heightRange:[-30,-2],moistureRange:[1,1],temperatureRange:[.3,.7],vegetationDensity:0,vegetationTypes:[],rockDensity:.1,erosionResistance:.1},beach:{color:new h.Color(0xf4d03f),secondaryColor:new h.Color(0xe8c547),roughness:.8,metalness:0,heightRange:[-2,3],moistureRange:[.6,.8],temperatureRange:[.5,.8],vegetationDensity:.2,vegetationTypes:["palm","grass","driftwood"],rockDensity:.3,erosionResistance:.2},grassland:{color:new h.Color(5424154),secondaryColor:new h.Color(3710477),roughness:.9,metalness:0,heightRange:[0,20],moistureRange:[.4,.7],temperatureRange:[.4,.7],vegetationDensity:.9,vegetationTypes:["grass","flowers","shrubs","small_trees"],rockDensity:.2,erosionResistance:.3},forest:{color:new h.Color(2324484),secondaryColor:new h.Color(2059010),roughness:1,metalness:0,heightRange:[5,35],moistureRange:[.6,.9],temperatureRange:[.3,.6],vegetationDensity:1,vegetationTypes:["trees","ferns","moss","undergrowth"],rockDensity:.4,erosionResistance:.8},hills:{color:new h.Color(8172354),secondaryColor:new h.Color(6856504),roughness:.8,metalness:.1,heightRange:[15,50],moistureRange:[.3,.6],temperatureRange:[.2,.5],vegetationDensity:.7,vegetationTypes:["trees","grass","rocks","alpine_plants"],rockDensity:.6,erosionResistance:.6},mountains:{color:new h.Color(6381921),secondaryColor:new h.Color(4342338),roughness:1,metalness:.4,heightRange:[40,100],moistureRange:[.2,.5],temperatureRange:[.1,.3],vegetationDensity:.3,vegetationTypes:["pine","rocks","alpine_plants"],rockDensity:.9,erosionResistance:.9},snow:{color:new h.Color(0xfafafa),secondaryColor:new h.Color(0xe3f2fd),roughness:.1,metalness:0,heightRange:[70,120],moistureRange:[.8,1],temperatureRange:[0,.1],vegetationDensity:.05,vegetationTypes:["pine"],rockDensity:.8,erosionResistance:.4},desert:{color:new h.Color(0xffa726),secondaryColor:new h.Color(0xff9800),roughness:.7,metalness:0,heightRange:[0,25],moistureRange:[0,.2],temperatureRange:[.7,1],vegetationDensity:.15,vegetationTypes:["cactus","deadwood","desert_grass"],rockDensity:.4,erosionResistance:.2},canyon:{color:new h.Color(0xd84315),secondaryColor:new h.Color(0xbf360c),roughness:.9,metalness:.3,heightRange:[-15,40],moistureRange:[.1,.3],temperatureRange:[.6,.9],vegetationDensity:.25,vegetationTypes:["cactus","rocks","desert_shrubs"],rockDensity:.9,erosionResistance:1},volcanic:{color:new h.Color(4342338),secondaryColor:new h.Color(2171169),roughness:1,metalness:.6,heightRange:[25,80],moistureRange:[0,.4],temperatureRange:[.8,1],vegetationDensity:.1,vegetationTypes:["deadwood","rocks"],rockDensity:1,erosionResistance:1},river:{color:new h.Color(2201331),secondaryColor:new h.Color(1668818),roughness:.1,metalness:.7,heightRange:[-5,5],moistureRange:[1,1],temperatureRange:[.3,.7],vegetationDensity:.8,vegetationTypes:["reeds","willows","water_plants"],rockDensity:.3,erosionResistance:0},wetland:{color:new h.Color(5025616),secondaryColor:new h.Color(3706428),roughness:.9,metalness:.1,heightRange:[-2,8],moistureRange:[.9,1],temperatureRange:[.4,.7],vegetationDensity:1,vegetationTypes:["reeds","water_grass","willows"],rockDensity:.2,erosionResistance:.2}};class f{advancedTerrainFunction(e,s){let t=e*this.scale,a=s*this.scale,n=Math.max(0,.8*this.noiseGen.fbm(.2*t,.2*a,3,2,.6)+.2),r=60*this.noiseGen.fbm(.5*t,.5*a,4,2,.5),l=25*this.noiseGen.fbm(1.2*t,1.2*a,6,2,.5),i=8*this.noiseGen.fbm(4*t,4*a,8,2,.5),c=50*this.noiseGen.ridgeNoise(1.8*t,1.8*a,6),o=15*this.noiseGen.billowNoise(2.5*t,2.5*a,5),d=r+l+i+20*this.noiseGen.warpedNoise(1.5*t,1.5*a,.2);if(d>25){let e=Math.min(1,(d-25)/30);d+=c*e}return d>10&&d<40&&(d+=.6*o),(d*=n)>15&&d<60&&(d=Math.floor(.125*d)/.125*8),Math.max(d,-35)}generateAdvancedHeightmap(){let e=new Float32Array(this.size*this.size);for(let s=0;s<this.size;s++)for(let t=0;t<this.size;t++)e[s*this.size+t]=this.advancedTerrainFunction(t,s);return new u(this.size,this.size,e).simulate(100,.02,.015)}generateAdvancedMoistureMap(){let e=new Float32Array(this.size*this.size);for(let s=0;s<this.size;s++)for(let t=0;t<this.size;t++){let a=s*this.size+t,n=t*this.scale,r=s*this.scale,l=this.noiseGen.fbm(1.5*n,1.5*r,6,2,.5),i=(.6*l+.3*this.noiseGen.fbm(.8*n,.8*r,4,2,.5)+.1*Math.max(0,1-this.advancedTerrainFunction(t,s)/100))*.5+.5;e[a]=Math.max(0,Math.min(1,i))}return e}generateAdvancedTemperatureMap(){let e=new Float32Array(this.size*this.size),s=this.size/2;for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++){let n=t*this.size+a,r=a*this.scale,l=t*this.scale,i=.7*(1-Math.abs(t-s)/s)+.2*Math.max(0,1-this.advancedTerrainFunction(a,t)/120)+.3*this.noiseGen.fbm(2.2*r,2.2*l,4,2,.5)+.1;e[n]=Math.max(0,Math.min(1,i))}return e}getBiomeBlended(e,s,t){let a=this.getBiome(e,s,t),n=Object.values(g),r=a,l=1/0;for(let i of n){if(i===a)continue;let n=j[i],c=Math.abs(e-(n.heightRange[0]+n.heightRange[1])/2)/50,o=c+Math.abs(s-(n.moistureRange[0]+n.moistureRange[1])/2)+Math.abs(t-(n.temperatureRange[0]+n.temperatureRange[1])/2);o<l&&(l=o,r=i)}return{primary:a,secondary:r,blend:Math.max(0,Math.min(1,1-l/2))}}getBiome(e,s,t){return e<-5?"ocean":e<2&&s>.8?"river":e<3&&s>.6&&t>.5?"beach":e<8&&s>.9?"wetland":e>70&&t<.2?"snow":e>40&&s<.4?"mountains":s<.2&&t>.6?e>15?"canyon":"desert":e>50&&t>.7&&s<.3?"volcanic":e>20&&s>.5&&t<.5?"forest":e>12?"hills":"grassland"}constructor(e=12345,s=512,t=.01){this.noiseGen=new x(e),this.size=s,this.scale=t}}function v(){let e=(0,n.useMemo)(()=>{let e=new f(12345,256,.015),s=e.generateAdvancedHeightmap(),t=e.generateAdvancedMoistureMap(),a=e.generateAdvancedTemperatureMap();if(!s||!t||!a)return console.warn("Failed to generate ultra-realistic terrain maps"),null;let n=new h.PlaneGeometry(500,500,255,255),r=n.attributes.position;if(!r)return null;let l=r.array,i=new Float32Array(l.length);for(let n=0;n<l.length;n+=3){var c,o,d;let r=Math.floor((l[n]+250)/500*255),m=Math.max(0,Math.min(65024,256*Math.floor((l[n+2]+250)/500*255)+r)),x=null!=(c=s[m])?c:0,u=null!=(o=t[m])?o:.5,p=null!=(d=a[m])?d:.5;l[n+1]=x;let g=e.getBiomeBlended(x,u,p),f=j[g.primary],v=j[g.secondary],b=new h.Color().lerpColors(f.color,v.color,.3*g.blend);i[n]=b.r,i[n+1]=b.g,i[n+2]=b.b}n.setAttribute("color",new h.BufferAttribute(i,3)),n.computeVertexNormals();let m=new h.MeshStandardMaterial({vertexColors:!0,roughness:.85,metalness:.05,side:h.DoubleSide}),x=new h.Mesh(n,m);return x.rotation.x=-Math.PI/2,x.receiveShadow=!0,x.castShadow=!0,x},[]);return e?(0,a.jsx)("primitive",{object:e}):null}function b(){return(0,n.useMemo)(()=>{let e=new f(12345,256,.015),s=e.generateAdvancedHeightmap(),t=e.generateAdvancedMoistureMap(),n=e.generateAdvancedTemperatureMap();if(!s||!t||!n)return console.warn("Failed to generate terrain maps for ultra-realistic vegetation"),(0,a.jsx)("group",{});let r=new h.Group,l=new h.ConeGeometry(1.2,12,8),i=new h.SphereGeometry(3,12,8),c=new h.CylinderGeometry(.4,.5,8),o=new h.SphereGeometry(3.5,8,6),d=new h.CylinderGeometry(.6,.8,5,8),m=new h.DodecahedronGeometry(2),x=new h.PlaneGeometry(.3,1.5),u=new h.SphereGeometry(.8,6,4),g=new h.MeshStandardMaterial({color:872236,roughness:.9,metalness:0}),v=new h.MeshStandardMaterial({color:2972205,roughness:.8,metalness:0}),b=new h.MeshStandardMaterial({color:9127187,roughness:.9,metalness:0}),y=new h.MeshStandardMaterial({color:2263842,roughness:.7,metalness:0}),w=new h.MeshStandardMaterial({color:3046706,roughness:.6,metalness:0}),N=new h.MeshStandardMaterial({color:6908265,roughness:1,metalness:.1}),M=new h.MeshStandardMaterial({color:5025616,transparent:!0,opacity:.8,side:h.DoubleSide,roughness:.9}),S=new h.MeshStandardMaterial({color:3706428,roughness:.8,metalness:0});return new p(480,480,8).generate().forEach(a=>{var p,f,k;let[C,E]=a,R=C-240,D=E-240,A=Math.max(0,Math.min(65024,256*Math.floor((D+250)/500*255)+Math.floor((R+250)/500*255))),F=null!=(p=s[A])?p:0,L=null!=(f=t[A])?f:.5,P=null!=(k=n[A])?k:.5,T=e.getBiomeBlended(F,L,P),I=j[T.primary];if(Math.random()>I.vegetationDensity)return;let z=[];switch(T.primary){case"forest":if(.6>Math.random()){let e=new h.Mesh(i,v);e.position.y=F+6,z.push(e);for(let e=0;e<3;e++){let e=new h.Mesh(u,S);e.position.set(R+(Math.random()-.5)*6,F+.8,D+(Math.random()-.5)*6),e.scale.setScalar(.5+.5*Math.random()),z.push(e)}}else{let e=new h.Mesh(l,g);e.position.y=F+6,z.push(e)}break;case"grassland":for(let e=0;e<5;e++){let e=new h.Mesh(x,M);e.position.set(R+(Math.random()-.5)*4,F+.8,D+(Math.random()-.5)*4),e.rotation.y=Math.random()*Math.PI*2,z.push(e)}if(.3>Math.random()){let e=new h.Mesh(u,S);e.position.y=F+.8,z.push(e)}break;case"mountains":case"snow":if(.7>Math.random()){let e=new h.Mesh(l,g);e.position.y=F+6,e.scale.setScalar(.7+.4*Math.random()),z.push(e)}if(Math.random()<I.rockDensity){let e=new h.Mesh(m,N);e.position.y=F+1,e.scale.setScalar(.5+ +Math.random()),z.push(e)}break;case"beach":if(.4>Math.random()){let e=new h.Group,s=new h.Mesh(c,b),t=new h.Mesh(o,y);t.position.y=4,e.add(s,t),e.position.y=F+4,z.push(e)}break;case"desert":case"canyon":if(.5>Math.random()){let e=new h.Mesh(d,w);e.position.y=F+2.5,z.push(e)}if(.6>Math.random()){let e=new h.Mesh(m,N);e.position.y=F+1,e.scale.setScalar(.6+.8*Math.random()),z.push(e)}break;case"wetland":case"river":for(let e=0;e<4;e++){let e=new h.Mesh(x,M);e.position.set(R+(Math.random()-.5)*3,F+1.5,D+(Math.random()-.5)*3),e.scale.set(.5,2,.5),z.push(e)}}z.forEach(e=>{e.position.x=R,e.position.z=D,e.castShadow=!0,e.receiveShadow=!0,e.rotation.y=Math.random()*Math.PI*2,e.rotation.x=(Math.random()-.5)*.1,e.rotation.z=(Math.random()-.5)*.1,r.add(e)})}),(0,a.jsx)("primitive",{object:r})},[])}function y(){let e=(0,n.useRef)(null);return(0,r.D)(s=>{var t;if((null==(t=e.current)?void 0:t.material)instanceof h.MeshStandardMaterial){let t=s.clock.getElapsedTime();e.current.material.normalScale&&e.current.material.normalScale.set(.8+.2*Math.sin(.4*t),.8+.2*Math.cos(.3*t));let a=.7+.1*Math.sin(.2*t);e.current.material.opacity=a}}),(0,a.jsxs)("mesh",{ref:e,position:[0,-2,0],receiveShadow:!0,rotation:[-Math.PI/2,0,0],children:[(0,a.jsx)("planeGeometry",{args:[600,600,100,100]}),(0,a.jsx)("meshStandardMaterial",{color:"#1565c0",transparent:!0,opacity:.75,roughness:0,metalness:.2,envMapIntensity:3})]})}function w(e,s){var t;let a=new f(12345,256,.015).generateAdvancedHeightmap();return a?null!=(t=a[Math.max(0,Math.min(65024,256*Math.floor((s+250)/500*255)+Math.floor((e+250)/500*255)))])?t:0:(console.warn("Failed to generate heightmap for collision detection"),0)}let N=()=>{let e=(0,n.useRef)(null);return(0,r.D)(s=>{if(e.current){let t=.03*s.clock.getElapsedTime();e.current.position.set(300*Math.sin(t),Math.max(20,120+100*Math.sin(t)),300*Math.cos(t)),e.current.position.y<40?(e.current.color.setHSL(.08,.95,.85),e.current.intensity=.7):(e.current.color.setHSL(.18,.25,1),e.current.intensity=1.4)}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("directionalLight",{ref:e,intensity:1.4,color:"#FFF8DC",position:[150,80,150],castShadow:!0,"shadow-mapSize-width":8192,"shadow-mapSize-height":8192,"shadow-camera-far":800,"shadow-camera-left":-300,"shadow-camera-right":300,"shadow-camera-top":300,"shadow-camera-bottom":-300}),(0,a.jsx)("ambientLight",{intensity:.35,color:"#87CEEB"}),(0,a.jsx)("hemisphereLight",{args:["#87CEEB","#8B4513",.4]})]})},M=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.m,{distance:5e5,sunPosition:[150,80,150],inclination:.52,azimuth:.28,mieCoefficient:.004,mieDirectionalG:.82,rayleigh:.6,turbidity:.8}),(0,a.jsx)(c.A,{radius:500,depth:100,count:8e3,factor:8,saturation:.95,fade:!0,speed:.3})]});function S(e){let{cameraRotation:s}=e,t=(0,n.useRef)(null),{camera:l}=(0,r.C)();return(0,r.D)(()=>{t.current&&(t.current.position.copy(l.position),t.current.rotation.order="YXZ",t.current.rotation.y=s.current.yaw,t.current.rotation.x=s.current.pitch)}),(0,a.jsxs)("group",{ref:t,children:[(0,a.jsxs)("mesh",{position:[-.4,-.3,-.5],castShadow:!0,children:[(0,a.jsx)("boxGeometry",{args:[.2,.2,1]}),(0,a.jsx)("meshStandardMaterial",{color:"#F5DEB3"})]}),(0,a.jsxs)("mesh",{position:[.4,-.3,-.5],castShadow:!0,children:[(0,a.jsx)("boxGeometry",{args:[.2,.2,1]}),(0,a.jsx)("meshStandardMaterial",{color:"#F5DEB3"})]})]})}function k(e){let{config:s,setUiState:t}=e,{camera:l,gl:i}=(0,r.C)(),[c,o]=(0,n.useState)(()=>new h.Vector3(0,w(0,0)+3,0)),d=(0,n.useRef)(new h.Vector3),x=(0,n.useRef)(new h.Vector3),u=(0,n.useRef)({yaw:0,pitch:0,targetYaw:0,targetPitch:0}),p=(0,n.useRef)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,run:!1,crouch:!1}),{gamepadState:g,isConnected:j}=(0,m.V)({deadzone:.2});return(0,n.useEffect)(()=>t({isPointerLocked:document.pointerLockElement===i.domElement,isGamepadConnected:j}),[j,i.domElement,t]),(0,n.useEffect)(()=>{l instanceof h.PerspectiveCamera&&(l.fov=90,l.near=.1,l.far=3e3,l.updateProjectionMatrix())},[l]),(0,n.useEffect)(()=>{let e=(e,s)=>{"KeyW"===e.code&&(p.current.forward=s),"KeyS"===e.code&&(p.current.backward=s),"KeyA"===e.code&&(p.current.left=s),"KeyD"===e.code&&(p.current.right=s),"Space"===e.code&&(p.current.jump=s),"ShiftLeft"===e.code&&(p.current.run=s)},a=s=>e(s,!0),n=s=>e(s,!1),r=e=>{if(document.pointerLockElement!==i.domElement)return;let t=.002*s.player.mouseSensitivity;u.current.targetYaw-=e.movementX*t,u.current.targetPitch=Math.max(-Math.PI/2,Math.min(Math.PI/2,u.current.targetPitch-e.movementY*t))},l=()=>t({isPointerLocked:document.pointerLockElement===i.domElement,isGamepadConnected:j}),c=()=>i.domElement.requestPointerLock();return document.addEventListener("keydown",a),document.addEventListener("keyup",n),document.addEventListener("mousemove",r),document.addEventListener("pointerlockchange",l),i.domElement.addEventListener("click",c),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",n),document.removeEventListener("mousemove",r),document.removeEventListener("pointerlockchange",l),i.domElement.removeEventListener("click",c)}},[i.domElement,s.player.mouseSensitivity,j,t]),(0,r.D)((e,t)=>{u.current.yaw=h.MathUtils.lerp(u.current.yaw,u.current.targetYaw,30*t),u.current.pitch=h.MathUtils.lerp(u.current.pitch,u.current.targetPitch,30*t),l.rotation.order="YXZ",l.rotation.y=u.current.yaw,l.rotation.x=u.current.pitch;let a=p.current.run?s.player.runSpeed:s.player.walkSpeed,n=new h.Vector3(0,0,-1).applyQuaternion(l.quaternion),r=new h.Vector3(1,0,0).applyQuaternion(l.quaternion),i=new h.Vector3;if(p.current.forward&&i.add(n),p.current.backward&&i.sub(n),p.current.right&&i.add(r),p.current.left&&i.sub(r),j&&g){var m,f,v,b;i.add(n.multiplyScalar(-(null!=(m=g.leftStick.y)?m:0))),i.add(r.multiplyScalar(null!=(f=g.leftStick.x)?f:0)),u.current.targetYaw-=(null!=(v=g.rightStick.x)?v:0)*.05,u.current.targetPitch=Math.max(-Math.PI/2,Math.min(Math.PI/2,u.current.targetPitch-(null!=(b=g.rightStick.y)?b:0)*.05))}i.length()>0&&i.normalize();let y=i.multiplyScalar(a);x.current.lerp(y,25*t),d.current.y-=s.environment.gravity*t;let N=w(c.x,c.z)+1.75;c.y<=N+.5&&p.current.jump&&(d.current.y=s.player.jumpHeight);let M=new h.Vector3(x.current.x,d.current.y,x.current.z),S=c.clone().add(M.clone().multiplyScalar(t));S.y<N&&(S.y=N,d.current.y=0),o(S),l.position.copy(S).add(new h.Vector3(0,1.62,0))}),(0,a.jsx)(S,{cameraRotation:u})}function C(e){let{isPointerLocked:s,isGamepadConnected:t}=e;return s?null:(0,a.jsx)(o.E,{center:!0,children:(0,a.jsxs)("div",{className:"pointer-events-auto text-center p-12 bg-black/95 backdrop-blur-lg rounded-2xl border border-cyan-400/60 shadow-2xl",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-cyan-300 mb-4",children:"\uD83C\uDF0D Ultra-Realistic Game World"}),(0,a.jsx)("div",{className:"text-slate-300 mb-3 text-lg",children:"Click to Enter Ultra-Immersive Mode"}),(0,a.jsx)("div",{className:"text-sm text-slate-400 mb-4",children:t?"\uD83C\uDFAE Controller Ready":"⌨️ WASD + Mouse"}),(0,a.jsxs)("div",{className:"text-xs text-cyan-200 space-y-1",children:[(0,a.jsx)("div",{children:"✨ Hydraulic Erosion Simulation"}),(0,a.jsx)("div",{children:"\uD83C\uDFD4️ Realistic Mountain Ridges & Valleys"}),(0,a.jsx)("div",{children:"\uD83C\uDF32 Natural Vegetation Distribution"}),(0,a.jsx)("div",{children:"\uD83D\uDCA7 Dynamic Water & Weather Systems"}),(0,a.jsx)("div",{children:"\uD83C\uDFA8 Advanced Biome Blending"})]})]})})}function E(e){let{config:s,onPerformanceUpdate:t,onCameraUpdate:r}=e,[i,c]=(0,n.useState)({isPointerLocked:!1,isGamepadConnected:!1});return(0,a.jsx)("div",{className:"w-full h-full bg-black",children:(0,a.jsx)(l.Hl,{shadows:"percentage",camera:{fov:90,near:.1,far:3e3},gl:{antialias:!0,powerPreference:"high-performance",alpha:!1,precision:"highp"},onCreated:e=>{let{gl:s,scene:t}=e;s.shadowMap.enabled=!0,s.shadowMap.type=h.PCFSoftShadowMap,s.toneMapping=h.ACESFilmicToneMapping,s.toneMappingExposure=1.1,s.outputColorSpace=h.SRGBColorSpace,t.fog=new h.Fog("#87CEEB",100,1200)},children:(0,a.jsxs)(n.Suspense,{fallback:null,children:[(0,a.jsx)(N,{}),(0,a.jsx)(M,{}),(0,a.jsx)(v,{}),(0,a.jsx)(b,{}),(0,a.jsx)(y,{}),(0,a.jsx)(k,{config:s,setUiState:c}),(0,a.jsxs)(d.s0,{children:[(0,a.jsx)(d.nU,{intensity:.4,radius:1,bias:.005}),(0,a.jsx)(d.mK,{intensity:.3,luminanceThreshold:.95}),(0,a.jsx)(d.fE,{eskil:!1,offset:.08,darkness:.25}),(0,a.jsx)(d.E8,{offset:[3e-4,8e-4]})]}),(0,a.jsx)(C,{...i})]})})})}let R=(0,n.forwardRef)((e,s)=>{let{config:t,enabled:a,onConfigChange:r}=e,l=(0,n.useRef)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,crouch:!1,run:!1,mouseX:0,mouseY:0,mouseDeltaX:0,mouseDeltaY:0,mousePressed:!1,interact:!1,scan:!1,sample:!1,menu:!1,inventory:!1}),i=(0,n.useRef)({forward:["KeyW","ArrowUp"],backward:["KeyS","ArrowDown"],left:["KeyA","ArrowLeft"],right:["KeyD","ArrowRight"],jump:["Space"],crouch:["KeyC","ControlLeft"],run:["ShiftLeft"],interact:["KeyE"],scan:["KeyF"],sample:["KeyR"],menu:["Escape"],inventory:["KeyI","Tab"]}),c=(0,n.useRef)({connected:!1,leftStickX:0,leftStickY:0,rightStickX:0,rightStickY:0,buttons:Array(16).fill(!1)}),o=(0,n.useRef)(a),d=(0,n.useRef)(!1);(0,n.useRef)(0),(0,n.useRef)(0);let h=(0,n.useCallback)(e=>{if(!o.current)return;let s=e.code,t=i.current;Object.values(t).flat().includes(s)&&e.preventDefault(),Object.entries(t).forEach(e=>{let[t,a]=e;a.includes(s)&&(l.current[t]=!0)})},[]),m=(0,n.useCallback)(e=>{if(!o.current)return;let s=e.code;Object.entries(i.current).forEach(e=>{let[t,a]=e;a.includes(s)&&(l.current[t]=!1)})},[]),x=(0,n.useCallback)(e=>{if(!o.current||!d.current)return;let s=.001*t.mouseSensitivity,a=e.movementX*s,n=e.movementY*s;l.current.mouseDeltaX=a,l.current.mouseDeltaY=n,l.current.mouseX+=a,l.current.mouseY+=n,l.current.mouseY=Math.max(-Math.PI/2,Math.min(Math.PI/2,l.current.mouseY))},[t.mouseSensitivity]),u=(0,n.useCallback)(e=>{o.current&&(l.current.mousePressed=!0,d.current||document.body.requestPointerLock())},[]),p=(0,n.useCallback)(e=>{o.current&&(l.current.mousePressed=!1)},[]),g=(0,n.useCallback)(()=>{d.current=document.pointerLockElement===document.body},[]),j=(0,n.useCallback)(e=>{o.current&&e.preventDefault()},[]),f=(0,n.useCallback)(()=>{if(!o.current)return;let e=navigator.getGamepads()[0];if(e){let a=c.current;a.connected=!0,a.leftStickX=Math.abs(e.axes[0]||0)>.1&&e.axes[0]||0,a.leftStickY=Math.abs(e.axes[1]||0)>.1?-(e.axes[1]||0):0,a.rightStickX=Math.abs(e.axes[2]||0)>.1&&e.axes[2]||0,a.rightStickY=Math.abs(e.axes[3]||0)>.1?-(e.axes[3]||0):0;for(let t=0;t<e.buttons.length;t++){var s;a.buttons[t]=(null==(s=e.buttons[t])?void 0:s.pressed)||!1}let n=l.current;n.forward=a.leftStickY>.1||a.buttons[12]||!1,n.backward=a.leftStickY<-.1||a.buttons[13]||!1,n.left=a.leftStickX<-.1||a.buttons[14]||!1,n.right=a.leftStickX>.1||a.buttons[15]||!1,n.jump=a.buttons[0]||!1,n.crouch=a.buttons[1]||!1,n.run=a.buttons[7]||!1,n.interact=a.buttons[2]||!1,n.menu=a.buttons[9]||!1;let r=.05*t.mouseSensitivity;n.mouseDeltaX=a.rightStickX*r,n.mouseDeltaY=a.rightStickY*r,n.mouseX+=n.mouseDeltaX,n.mouseY+=n.mouseDeltaY,n.mouseY=Math.max(-Math.PI/2,Math.min(Math.PI/2,n.mouseY))}else c.current.connected=!1},[t.mouseSensitivity]);(0,n.useEffect)(()=>{o.current=a},[a]);let v=(0,n.useCallback)(()=>{o.current=!0,document.addEventListener("keydown",h),document.addEventListener("keyup",m),document.addEventListener("mousemove",x),document.addEventListener("mousedown",u),document.addEventListener("mouseup",p),document.addEventListener("pointerlockchange",g),document.addEventListener("contextmenu",j),document.body.requestPointerLock(),console.log("\uD83C\uDFAE [FPS] Input system enabled")},[h,m,x,u,p,g,j]),b=(0,n.useCallback)(()=>{o.current=!1,document.removeEventListener("keydown",h),document.removeEventListener("keyup",m),document.removeEventListener("mousemove",x),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",p),document.removeEventListener("pointerlockchange",g),document.removeEventListener("contextmenu",j),document.pointerLockElement&&document.exitPointerLock(),Object.keys(l.current).forEach(e=>{"boolean"==typeof l.current[e]&&(l.current[e]=!1)}),console.log("\uD83C\uDFAE [FPS] Input system disabled")},[h,m,x,u,p,g,j]);return(0,n.useEffect)(()=>{if(!a)return;let e=setInterval(f,16);return()=>clearInterval(e)},[a,f]),(0,n.useEffect)(()=>()=>{b()},[b]),(0,n.useImperativeHandle)(s,()=>({enable:v,disable:b,getInputState:()=>l.current,isGamepadConnected:()=>c.current.connected,setKeyBinding:(e,s)=>{i.current[e]=s},resetToDefaults:()=>{i.current={forward:["KeyW","ArrowUp"],backward:["KeyS","ArrowDown"],left:["KeyA","ArrowLeft"],right:["KeyD","ArrowRight"],jump:["Space"],crouch:["KeyC","ControlLeft"],run:["ShiftLeft"],interact:["KeyE"],scan:["KeyF"],sample:["KeyR"],menu:["Escape"],inventory:["KeyI","Tab"]}}}),[v,b]),null});var D=t(6874),A=t.n(D),F=t(5169),L=t(2657),P=t(5690),T=t(8979),I=t(7330),z=t(1284),B=t(9397),G=t(2580),V=t(5456),Y=t(1539);function H(e){let{config:s,isExploring:t,isInitializing:n,status:r,availableModes:l=[],planetPresets:i=[],onStartExploration:c,onStopExploration:o,onConfigChange:d,onApplyPreset:h,onToggleSettings:m,onToggleInfo:x,showSettings:u,showInfo:p}=e,g=(null==l?void 0:l.find(e=>e.value===s.gameplay.explorationMode))||l[0];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-50 bg-gradient-to-r from-slate-900/95 via-green-900/95 to-slate-900/95         backdrop-blur-xl border-b border-green-400/30 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(A(),{href:"/test",className:"flex items-center space-x-2 text-slate-300 hover:text-white transition-colors duration-200          px-3 py-2 rounded-lg hover:bg-green-500/10",children:[(0,a.jsx)(F.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Back"})]}),(0,a.jsx)("div",{className:"w-px h-6 bg-slate-600"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600             flex items-center justify-center shadow-lg",children:(0,a.jsx)(L.A,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"First-Person Explorer"}),(0,a.jsx)("p",{className:"text-sm text-green-300",children:"AAA Planetary Surface Exploration"})]})]})]}),!t&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"Mode:"}),(0,a.jsx)("select",{value:s.gameplay.explorationMode,onChange:e=>d({gameplay:{...s.gameplay,explorationMode:e.target.value}}),className:"bg-slate-800/80 border border-green-500/30 text-white text-sm rounded-lg px-3 py-2            focus:ring-2 focus:ring-green-400 focus:border-transparent",children:l.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[!t&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"Planet:"}),(0,a.jsxs)("select",{onChange:e=>{let s=i.find(s=>s.name===e.target.value);s&&h(s)},className:"bg-slate-800/80 border border-green-500/30 text-white text-sm rounded-lg px-3 py-2             focus:ring-2 focus:ring-green-400 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select Preset..."}),i.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),t?(0,a.jsxs)("button",{onClick:o,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600            hover:from-red-600 hover:to-red-700 text-white font-bold rounded-lg            shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[(0,a.jsx)(T.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Stop Exploration"})]}):(0,a.jsxs)("button",{onClick:c,disabled:n,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600            hover:from-green-600 hover:to-emerald-700 text-white font-bold rounded-lg            shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50            disabled:cursor-not-allowed transform hover:scale-105",children:[(0,a.jsx)(P.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:n?"Initializing...":"Start Exploration"})]}),!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-px h-6 bg-slate-600"}),(0,a.jsxs)("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat(u?"bg-green-500 text-white shadow-lg":"bg-slate-800/80 hover:bg-slate-700/80 text-slate-300 border border-green-500/30"),children:[(0,a.jsx)(I.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Settings"})]}),(0,a.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat(p?"bg-green-500 text-white shadow-lg":"bg-slate-800/80 hover:bg-slate-700/80 text-slate-300 border border-green-500/30"),children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Info"})]})]})]})]}),!t&&(0,a.jsx)("div",{className:"px-6 pb-3",children:(0,a.jsxs)("div",{className:"text-sm text-green-200 bg-green-500/10 border border-green-400/20 rounded-lg px-3 py-2",children:[(0,a.jsxs)("span",{className:"font-medium",children:[(null==g?void 0:g.label)||"Unknown",":"]})," ",(null==g?void 0:g.description)||"No description available"]})})]}),(0,a.jsx)("div",{className:"absolute top-28 left-1/2 transform -translate-x-1/2 z-40         bg-gradient-to-r from-green-500/10 via-emerald-500/10 to-green-500/10         backdrop-blur-sm border border-green-400/30 rounded-lg px-4 py-2 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[(0,a.jsx)(B.A,{className:"w-4 h-4 animate-pulse"}),(0,a.jsx)("span",{children:r})]})}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"absolute top-6 left-6 z-40 space-y-2",children:[s.gameplay.showCrosshair&&(0,a.jsx)("div",{className:"bg-slate-900/70 backdrop-blur-sm border border-green-400/30 rounded-lg px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[(0,a.jsx)(G.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Crosshair Active"})]})}),s.gameplay.showCompass&&(0,a.jsx)("div",{className:"bg-slate-900/70 backdrop-blur-sm border border-green-400/30 rounded-lg px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[(0,a.jsx)(V.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"N 0\xb0"})]})})]}),(0,a.jsx)("div",{className:"absolute bottom-6 left-6 z-40 bg-slate-900/70 backdrop-blur-sm           border border-green-400/30 rounded-lg px-4 py-3",children:(0,a.jsxs)("div",{className:"text-green-400 text-sm space-y-1",children:[(0,a.jsx)("div",{className:"font-medium mb-2",children:"Controls:"}),(0,a.jsx)("div",{children:"WASD - Move"}),(0,a.jsx)("div",{children:"Mouse - Look Around"}),(0,a.jsx)("div",{children:"Shift - Run"}),(0,a.jsx)("div",{children:"Space - Jump"}),(0,a.jsx)("div",{children:"C - Crouch"}),(0,a.jsx)("div",{children:"E - Interact"}),(0,a.jsx)("div",{children:"ESC - Exit Exploration"})]})}),(0,a.jsx)("div",{className:"absolute top-6 right-6 z-40 bg-slate-900/70 backdrop-blur-sm           border border-green-400/30 rounded-lg px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Performance: ",s.gameplay.textureQuality.toUpperCase()]})]})}),s.gameplay.showStaminaBar&&(0,a.jsx)("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-40",children:(0,a.jsx)("div",{className:"bg-slate-900/70 backdrop-blur-sm border border-green-400/30 rounded-lg px-4 py-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B.A,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-400 transition-all duration-300",style:{width:"".concat(s.player.stamina,"%")}})}),(0,a.jsxs)("span",{className:"text-green-400 text-sm font-mono",children:[s.player.stamina,"%"]})]})})}),s.gameplay.showCrosshair&&(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30",children:(0,a.jsxs)("div",{className:"w-6 h-6 relative",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-0.5 bg-green-400 rounded-full transform -translate-x-1/2 -translate-y-1/2 shadow-lg"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-4 h-0.5 bg-green-400/30 rounded-full transform -translate-x-1/2 -translate-y-1/2"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-4 bg-green-400/30 rounded-full transform -translate-x-1/2 -translate-y-1/2"})]})})]})]})}var O=t(381),U=t(4416),X=t(1007),K=t(4355),W=t(288),Q=t(5273);function _(e){let{config:s,onConfigChange:t,onClose:n,availableModes:r,planetPresets:l}=e,i=e=>{t({player:{...s.player,...e}})},c=e=>{t({environment:{...s.environment,...e}})},o=e=>{t({gameplay:{...s.gameplay,...e}})};return(0,a.jsxs)("div",{className:"fixed left-4 top-20 bottom-4 w-80 bg-slate-900/95 backdrop-blur-xl border border-green-400/30 rounded-lg shadow-2xl z-50 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-green-400/20 bg-gradient-to-r from-green-900/50 to-emerald-900/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O.A,{className:"w-5 h-5 text-green-400"}),(0,a.jsx)("h3",{className:"font-semibold text-white",children:"FPS Explorer Settings"})]}),(0,a.jsx)("button",{onClick:n,className:"p-1 hover:bg-red-500/20 rounded text-slate-400 hover:text-red-400 transition-colors",children:(0,a.jsx)(U.A,{className:"w-4 h-4"})})]})}),(0,a.jsxs)("div",{className:"p-4 space-y-6 overflow-y-auto max-h-[calc(100vh-200px)]",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(X.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Player Movement"})]}),(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Walk Speed: ",s.player.walkSpeed.toFixed(1)," m/s"]}),(0,a.jsx)("input",{type:"range",min:"2",max:"10",step:"0.5",value:s.player.walkSpeed,onChange:e=>i({walkSpeed:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Run Speed: ",s.player.runSpeed.toFixed(1)," m/s"]}),(0,a.jsx)("input",{type:"range",min:"5",max:"15",step:"0.5",value:s.player.runSpeed,onChange:e=>i({runSpeed:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Jump Height: ",s.player.jumpHeight.toFixed(1)," m"]}),(0,a.jsx)("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:s.player.jumpHeight,onChange:e=>i({jumpHeight:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Mouse Sensitivity: ",s.player.mouseSensitivity.toFixed(1)]}),(0,a.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:s.player.mouseSensitivity,onChange:e=>i({mouseSensitivity:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(K.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Camera & Vision"})]}),(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Field of View: ",s.player.fov,"\xb0"]}),(0,a.jsx)("input",{type:"range",min:"60",max:"120",step:"5",value:s.player.fov,onChange:e=>i({fov:parseInt(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Head Bob Intensity: ",(100*s.player.headBobIntensity).toFixed(0),"%"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.player.headBobIntensity,onChange:e=>i({headBobIntensity:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"viewBobbing",checked:s.player.viewBobbing,onChange:e=>i({viewBobbing:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"viewBobbing",className:"text-sm text-slate-300",children:"Enable View Bobbing"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"breathingEffect",checked:s.player.breathingEffect,onChange:e=>i({breathingEffect:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"breathingEffect",className:"text-sm text-slate-300",children:"Breathing Effect"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(L.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Environment"})]}),(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Terrain Detail: ",(100*s.environment.terrainDetail).toFixed(0),"%"]}),(0,a.jsx)("input",{type:"range",min:"0.2",max:"1",step:"0.1",value:s.environment.terrainDetail,onChange:e=>c({terrainDetail:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Vegetation Density: ",(100*s.environment.vegetationDensity).toFixed(0),"%"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.environment.vegetationDensity,onChange:e=>c({vegetationDensity:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Time of Day: ",s.environment.timeOfDay.toFixed(1),"h"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"24",step:"0.5",value:s.environment.timeOfDay,onChange:e=>c({timeOfDay:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"enableVegetation",checked:s.environment.enableVegetation,onChange:e=>c({enableVegetation:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"enableVegetation",className:"text-sm text-slate-300",children:"Enable Vegetation"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"weatherEnabled",checked:s.environment.weatherEnabled,onChange:e=>c({weatherEnabled:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"weatherEnabled",className:"text-sm text-slate-300",children:"Weather Effects"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Graphics & Performance"})]}),(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Render Distance: ",s.gameplay.renderDistance,"m"]}),(0,a.jsx)("input",{type:"range",min:"50",max:"500",step:"25",value:s.gameplay.renderDistance,onChange:e=>o({renderDistance:parseInt(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["LOD Levels: ",s.gameplay.lodLevels]}),(0,a.jsx)("input",{type:"range",min:"2",max:"8",step:"1",value:s.gameplay.lodLevels,onChange:e=>o({lodLevels:parseInt(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:"Shadow Quality"}),(0,a.jsxs)("select",{value:s.gameplay.shadowQuality,onChange:e=>o({shadowQuality:e.target.value}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"ultra",children:"Ultra"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:"Texture Quality"}),(0,a.jsxs)("select",{value:s.gameplay.textureQuality,onChange:e=>o({textureQuality:e.target.value}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"ultra",children:"Ultra"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(W.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Gameplay & UI"})]}),(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:"Exploration Mode"}),(0,a.jsx)("select",{value:s.gameplay.explorationMode,onChange:e=>o({explorationMode:e.target.value}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white text-sm",children:r.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-300 mb-1",children:["Interaction Range: ",s.gameplay.interactionRange.toFixed(1),"m"]}),(0,a.jsx)("input",{type:"range",min:"1",max:"10",step:"0.5",value:s.gameplay.interactionRange,onChange:e=>o({interactionRange:parseFloat(e.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showCrosshair",checked:s.gameplay.showCrosshair,onChange:e=>o({showCrosshair:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"showCrosshair",className:"text-xs text-slate-300",children:"Crosshair"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showMinimap",checked:s.gameplay.showMinimap,onChange:e=>o({showMinimap:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"showMinimap",className:"text-xs text-slate-300",children:"Minimap"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showCompass",checked:s.gameplay.showCompass,onChange:e=>o({showCompass:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"showCompass",className:"text-xs text-slate-300",children:"Compass"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showStaminaBar",checked:s.gameplay.showStaminaBar,onChange:e=>o({showStaminaBar:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"showStaminaBar",className:"text-xs text-slate-300",children:"Stamina"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(Q.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Audio"})]}),(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"ambientSounds",checked:s.environment.ambientSounds,onChange:e=>c({ambientSounds:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"ambientSounds",className:"text-sm text-slate-300",children:"Ambient Sounds"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"windSounds",checked:s.environment.windSounds,onChange:e=>c({windSounds:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"windSounds",className:"text-sm text-slate-300",children:"Wind Sounds"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"echoEffect",checked:s.environment.echoEffect,onChange:e=>c({echoEffect:e.target.checked}),className:"w-4 h-4 text-green-400 bg-slate-700 border-slate-600 rounded focus:ring-green-400"}),(0,a.jsx)("label",{htmlFor:"echoEffect",className:"text-sm text-slate-3 00",children:"Echo Effects"})]})]})]})]})]})}var q=t(9803),J=t(4869),Z=t(3314);function $(e){let{config:s,currentMode:t,onClose:n}=e;return(0,a.jsxs)("div",{className:"fixed right-4 top-20 bottom-4 w-80 bg-slate-900/95 backdrop-blur-xl border border-green-400/30 rounded-lg shadow-2xl z-50 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-green-400/20 bg-gradient-to-r from-green-900/50 to-emerald-900/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"w-5 h-5 text-green-400"}),(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Explorer Info"})]}),(0,a.jsx)("button",{onClick:n,className:"p-1 hover:bg-red-500/20 rounded text-slate-400 hover:text-red-400 transition-colors",children:(0,a.jsx)(U.A,{className:"w-4 h-4"})})]})}),(0,a.jsxs)("div",{className:"p-4 space-y-6 overflow-y-auto max-h-[calc(100vh-200px)]",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(L.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Current Mode"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded border border-green-400/20",children:[(0,a.jsx)("h4",{className:"font-medium text-white",children:(null==t?void 0:t.label)||"Unknown"}),(0,a.jsx)("p",{className:"text-sm text-slate-300 mt-1",children:(null==t?void 0:t.description)||"No description available"})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(q.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Controls"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2 text-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Movement:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"WASD"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Look:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"Mouse"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Jump:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"Space"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Crouch:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"Ctrl"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Run:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"Shift"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Interact:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"E"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Scan:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"F"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Menu:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"Tab"})]})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(J.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Planet Environment"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Class:"}),(0,a.jsx)("span",{className:"text-white",children:s.environment.planetClass})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Radius:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.environment.planetRadius,"km"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Gravity:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.environment.gravity.toFixed(1),"m/s\xb2"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Atmosphere:"}),(0,a.jsx)("span",{className:"text-white",children:s.environment.atmosphere?"Yes":"No"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Weather:"}),(0,a.jsx)("span",{className:"text-white",children:s.environment.weatherType})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Vegetation:"}),(0,a.jsx)("span",{className:"text-white",children:s.environment.enableVegetation?"Yes":"No"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Time:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.environment.timeOfDay.toFixed(1),"h"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Wind:"}),(0,a.jsxs)("span",{className:"text-white",children:[(100*s.environment.windStrength).toFixed(0),"%"]})]})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(W.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Player Configuration"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Walk Speed:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.player.walkSpeed.toFixed(1),"m/s"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Run Speed:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.player.runSpeed.toFixed(1),"m/s"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Jump Height:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.player.jumpHeight.toFixed(1),"m"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"FOV:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.player.fov,"\xb0"]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Mouse Sens:"}),(0,a.jsx)("span",{className:"text-white",children:s.player.mouseSensitivity.toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Height:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.player.playerHeight.toFixed(1),"m"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"View Bob:"}),(0,a.jsx)("span",{className:"text-white",children:s.player.viewBobbing?"On":"Off"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Breathing:"}),(0,a.jsx)("span",{className:"text-white",children:s.player.breathingEffect?"On":"Off"})]})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Graphics Configuration"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Render Dist:"}),(0,a.jsxs)("span",{className:"text-white",children:[s.gameplay.renderDistance,"m"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"LOD Levels:"}),(0,a.jsx)("span",{className:"text-white",children:s.gameplay.lodLevels})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Shadows:"}),(0,a.jsx)("span",{className:"text-white capitalize",children:s.gameplay.shadowQuality})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Textures:"}),(0,a.jsx)("span",{className:"text-white capitalize",children:s.gameplay.textureQuality})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Crosshair:"}),(0,a.jsx)("span",{className:"text-white",children:s.gameplay.showCrosshair?"On":"Off"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Minimap:"}),(0,a.jsx)("span",{className:"text-white",children:s.gameplay.showMinimap?"On":"Off"})]})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(Z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Technical Specs"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsx)("div",{className:"p-3 bg-slate-800/50 rounded border border-green-400/20 text-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-slate-400",children:"Engine:"}),(0,a.jsx)("div",{className:"text-white",children:"Three.js + R3F"}),(0,a.jsx)("div",{className:"text-slate-400 mt-2",children:"Physics:"}),(0,a.jsx)("div",{className:"text-white",children:"Custom Controller"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-slate-400",children:"Terrain:"}),(0,a.jsx)("div",{className:"text-white",children:"Procedural LOD"}),(0,a.jsx)("div",{className:"text-slate-400 mt-2",children:"Audio:"}),(0,a.jsx)("div",{className:"text-white",children:"3D Spatial"})]})]})})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[(0,a.jsx)(L.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Available Features"})]}),(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.gameplay.enableScanning?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Environmental Scanning"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.gameplay.enableSampling?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Resource Sampling"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.environment.ambientSounds?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Ambient Audio"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.environment.weatherEnabled?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Dynamic Weather"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.player.viewBobbing?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Realistic Camera Movement"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400"}),(0,a.jsx)("span",{className:"text-slate-300",children:"Physics-Based Movement"})]})]})})]}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"p-3 bg-blue-900/20 border border-blue-400/30 rounded",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-300 mb-2",children:"\uD83D\uDCA1 Tips"}),(0,a.jsxs)("ul",{className:"text-sm text-slate-300 space-y-1",children:[(0,a.jsx)("li",{children:"• Hold Shift to run (consumes stamina)"}),(0,a.jsx)("li",{children:"• Use mouse wheel to adjust movement speed"}),(0,a.jsx)("li",{children:"• F key for environmental scanning"}),(0,a.jsx)("li",{children:"• Tab to access in-game menu"}),(0,a.jsx)("li",{children:"• Adjust FOV for comfort and performance"})]})]})})]})]})}var ee=t(4516),es=t(8611),et=t(6561);function ea(e){let{config:s,currentMode:t,performanceMetrics:n,isExploring:r}=e,l=(e,s,t)=>e>=s?"text-green-400":e<=t?"text-red-400":"text-yellow-400",i=()=>l(n.frameRate,55,30),c=()=>l(1e3-n.memoryUsage,700,300),o=()=>l(100-n.cpuUsage,60,20);return(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 w-80 bg-slate-900/95 backdrop-blur-xl border border-green-400/30 rounded-lg shadow-2xl z-40",children:[(0,a.jsx)("div",{className:"p-3 border-b border-green-400/20 bg-gradient-to-r from-green-900/50 to-emerald-900/50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("h3",{className:"font-semibold text-white text-sm",children:"Performance Monitor"}),(0,a.jsx)("div",{className:"ml-auto w-2 h-2 rounded-full animate-pulse ".concat(r?"bg-green-400":"bg-slate-500")})]})}),(0,a.jsxs)("div",{className:"p-3 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium text-sm",children:[(0,a.jsx)(Y.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Performance"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"FPS:"}),(0,a.jsx)("span",{className:"font-mono ".concat(i()),children:n.frameRate.toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Frame Time:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[n.frameTime.toFixed(1),"ms"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Draw Calls:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:n.drawCalls})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Triangles:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[(n.triangles/1e3).toFixed(0),"k"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Memory:"}),(0,a.jsxs)("span",{className:"font-mono ".concat(c()),children:[n.memoryUsage.toFixed(0),"MB"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"CPU:"}),(0,a.jsxs)("span",{className:"font-mono ".concat(o()),children:[n.cpuUsage.toFixed(0),"%"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400 w-12",children:"FPS"}),(0,a.jsx)("div",{className:"flex-1 h-1 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full transition-all duration-300 ".concat(i().replace("text-","bg-")),style:{width:"".concat(Math.min(100,n.frameRate/60*100),"%")}})}),(0,a.jsx)("span",{className:"text-xs text-slate-400 w-8",children:"60"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400 w-12",children:"MEM"}),(0,a.jsx)("div",{className:"flex-1 h-1 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full transition-all duration-300 ".concat(c().replace("text-","bg-")),style:{width:"".concat(Math.min(100,n.memoryUsage/1e3*100),"%")}})}),(0,a.jsx)("span",{className:"text-xs text-slate-400 w-8",children:"1GB"})]})]})]}),r&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium text-sm",children:[(0,a.jsx)(ee.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Player Stats"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Position X:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"0.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Position Y:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"2.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Position Z:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"0.0"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Velocity:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"0.0 m/s"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Stamina:"}),(0,a.jsx)("span",{className:"text-green-400 font-mono",children:"100%"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Ground:"}),(0,a.jsx)("span",{className:"text-green-400 font-mono",children:"Yes"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400 w-12",children:"STA"}),(0,a.jsx)("div",{className:"flex-1 h-1 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-400 transition-all duration-300",style:{width:"".concat(s.player.stamina/100*100,"%")}})}),(0,a.jsx)("span",{className:"text-xs text-slate-400 w-8",children:"100"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium text-sm",children:[(0,a.jsx)(L.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Rendering"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"FOV:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[s.player.fov,"\xb0"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"LOD:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:s.gameplay.lodLevels})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Shadows:"}),(0,a.jsx)("span",{className:"text-white capitalize",children:s.gameplay.shadowQuality.slice(0,3)})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Render Dist:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[s.gameplay.renderDistance,"m"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Textures:"}),(0,a.jsx)("span",{className:"text-white capitalize",children:s.gameplay.textureQuality.slice(0,3)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Terrain:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[(100*s.environment.terrainDetail).toFixed(0),"%"]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium text-sm",children:[(0,a.jsx)(Z.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"System Health"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-slate-800/50 rounded border border-green-400/20",children:[(0,a.jsx)("div",{className:"text-lg font-mono ".concat(i()),children:n.frameRate.toFixed(0)}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"FPS"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-slate-800/50 rounded border border-green-400/20",children:[(0,a.jsx)("div",{className:"text-lg font-mono ".concat(c()),children:(n.memoryUsage/1024).toFixed(1)}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"GB"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-slate-800/50 rounded border border-green-400/20",children:[(0,a.jsx)("div",{className:"text-lg font-mono ".concat(o()),children:n.cpuUsage.toFixed(0)}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"CPU%"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium text-sm",children:[(0,a.jsx)(es.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Mode"})]}),(0,a.jsx)("div",{className:"p-2 bg-slate-800/50 rounded border border-green-400/20",children:(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("div",{className:"font-medium text-white",children:(null==t?void 0:t.label)||"Unknown"}),(0,a.jsx)("div",{className:"text-slate-400 mt-1",children:(null==t?void 0:t.description)||"No description"})]})})]}),r&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 font-medium text-sm",children:[(0,a.jsx)(et.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Actions"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.gameplay.showCrosshair?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Crosshair"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.gameplay.showMinimap?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Minimap"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.gameplay.enableScanning?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Scanner"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.environment.ambientSounds?"bg-green-400":"bg-slate-600")}),(0,a.jsx)("span",{className:"text-slate-300",children:"Audio"})]})]})]}),(n.frameRate<30||n.memoryUsage>800)&&(0,a.jsx)("div",{className:"p-2 bg-red-900/20 border border-red-400/30 rounded",children:(0,a.jsxs)("div",{className:"text-xs text-red-300",children:["⚠️ Performance Warning",n.frameRate<30&&(0,a.jsx)("div",{className:"text-red-400",children:"Low FPS detected"}),n.memoryUsage>800&&(0,a.jsx)("div",{className:"text-red-400",children:"High memory usage"})]})})]})]})}var en=t(5080),er=t(6671);let el=[{name:"Earth-like",planetClass:"terrestrial",atmosphere:!0,weatherType:"clear",vegetation:!0},{name:"Desert World",planetClass:"desert",atmosphere:!1,weatherType:"clear",vegetation:!1},{name:"Jungle World",planetClass:"terrestrial",atmosphere:!0,weatherType:"rain",vegetation:!0},{name:"Ice Planet",planetClass:"ice",atmosphere:!0,weatherType:"snow",vegetation:!1},{name:"Volcanic World",planetClass:"volcanic",atmosphere:!0,weatherType:"storm",vegetation:!1}];function ei(){var e;let[s,t]=(0,n.useState)({player:{walkSpeed:5,runSpeed:8,crouchSpeed:2.5,jumpHeight:1.2,gravity:9.81,mouseSensitivity:2,fov:75,viewBobbing:!0,playerHeight:1.8,playerRadius:.3,stepHeight:.3,stamina:100,breathingEffect:!0,headBobIntensity:1},environment:{planetClass:er.rn.TERRESTRIAL,planetRadius:100,gravity:9.81,atmosphere:!0,terrainDetail:.8,terrainScale:50,heightVariation:20,enableVegetation:!0,vegetationDensity:.5,treeTypes:["Oak","Pine","Birch"],weatherEnabled:!0,weatherType:"clear",windStrength:.3,timeOfDay:12,sunIntensity:1,ambientLight:.4,ambientSounds:!0,echoEffect:!1,windSounds:!0},gameplay:{explorationMode:"free",showCrosshair:!0,showMinimap:!0,showCompass:!0,showHealthBar:!1,showStaminaBar:!0,interactionRange:3,enableScanning:!0,enableSampling:!0,renderDistance:200,lodLevels:4,shadowQuality:"high",textureQuality:"high"}}),[r,l]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),[x,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)({frameRate:60,frameTime:16.67,drawCalls:0,triangles:0,memoryUsage:0,cpuUsage:0}),j=(0,n.useRef)(null),f=(0,n.useRef)(null),v=[{value:"free",label:"Free Exploration",description:"Explore freely without restrictions"},{value:"guided",label:"Guided Tour",description:"Follow waypoints and objectives"},{value:"survival",label:"Survival Mode",description:"Limited resources and challenging gameplay"}],b=(0,n.useCallback)(e=>{t(s=>({...s,...e}))},[]),y=null!=(e=v.find(e=>e.value===s.gameplay.explorationMode))?e:{value:"free",label:"Free Exploration",description:"Explore freely without restrictions"};(0,n.useEffect)(()=>{j.current&&f.current&&(f.current.setInputManager(j.current),console.log("\uD83C\uDFAE [FPS] Input manager connected to renderer"))},[i]);let w=(0,n.useCallback)(()=>{c(!0),l(!0),j.current&&j.current.enable(),setTimeout(()=>l(!1),2e3)},[]),N=(0,n.useCallback)(()=>{c(!1),j.current&&j.current.disable()},[]);return(0,n.useEffect)(()=>{if(!i||!j.current)return;let e=setInterval(()=>{var e;let s=null==(e=j.current)?void 0:e.getInputState();(null==s?void 0:s.menu)&&setTimeout(()=>{N()},100)},100);return()=>clearInterval(e)},[i,N]),(0,n.useEffect)(()=>{if(!i||!j.current)return;let e=()=>{var e;u((null==(e=j.current)?void 0:e.isGamepadConnected())||!1)};e();let s=setInterval(e,500);return()=>clearInterval(s)},[i]),(0,a.jsx)("div",{className:"absolute inset-0 w-full h-full bg-black",children:(0,a.jsxs)(en.qw,{children:[r&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-green-400/30 border-t-green-400 rounded-full animate-spin mx-auto"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Initializing FPS Explorer"}),(0,a.jsx)("p",{className:"text-slate-300",children:"Loading terrain, physics, and rendering systems..."})]})}),(0,a.jsx)(R,{ref:j,config:s.player,enabled:i,onConfigChange:e=>b({player:{...s.player,...e}})}),(0,a.jsx)(E,{config:s,onPerformanceUpdate:g,onCameraUpdate:(e,s)=>{}}),(0,a.jsx)(H,{config:s,onConfigChange:b,isExploring:i,isInitializing:r,status:r?"loading":i?"exploring":"ready",availableModes:v,planetPresets:el,onStartExploration:w,onStopExploration:N,onApplyPreset:e=>{b({environment:{...s.environment,weatherType:e.weatherType,enableVegetation:e.vegetation}})},onToggleSettings:()=>d(!o),onToggleInfo:()=>m(!h),showSettings:o,showInfo:h}),o&&(0,a.jsx)(_,{config:s,onConfigChange:b,onClose:()=>d(!1),availableModes:v,planetPresets:el}),h&&(0,a.jsx)($,{config:s,currentMode:y,onClose:()=>m(!1)}),(0,a.jsx)(ea,{config:s,performanceMetrics:p,isExploring:i,currentMode:y}),i&&s.gameplay.showCrosshair&&(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none z-10",children:(0,a.jsxs)("div",{className:"w-6 h-6 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-white rounded-full opacity-80"}),(0,a.jsx)("div",{className:"absolute w-4 h-px bg-white opacity-60"}),(0,a.jsx)("div",{className:"absolute w-px h-4 bg-white opacity-60"})]})}),i&&!r&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm rounded-lg p-4 max-w-md z-20",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),x?"\uD83C\uDFAE Controller":"⌨️ Keyboard"," Controls"]}),(0,a.jsx)("div",{className:"text-sm text-slate-300 space-y-1",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Left Stick:"})," Move around"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Right Stick:"})," Look around"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Right Trigger:"})," Run"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"A/X Button:"})," Jump"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"B/Circle:"})," Crouch"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-blue-400 font-medium",children:"X/Square:"})," Interact"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-red-400 font-medium",children:"Start/Options:"})," Exit exploration"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"WASD:"})," Move around"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Mouse:"})," Look around"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Shift:"})," Run"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Space:"})," Jump"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"C:"})," Crouch"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-blue-400 font-medium",children:"E:"})," Interact"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-red-400 font-medium",children:"ESC:"})," Exit exploration"]})]})})]})]})})}}}]);