"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9318],{255:(e,t,n)=>{function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),n(5155),n(7650),n(5744),n(589)},288:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(9946).A)("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]])},2146:(e,t,n)=>{function a(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),n(5262)},3026:(e,t,n)=>{n.d(t,{V:()=>o});var a=n(2115);let r={deadzone:.15,sensitivity:1,enableHaptics:!0,pollRate:16,actions:{}};function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={...r,...e},[n,o]=(0,a.useState)({connected:!1,controllerType:"Unknown",leftStick:{x:0,y:0},rightStick:{x:0,y:0},buttons:{a:!1,b:!1,x:!1,y:!1,lb:!1,rb:!1,lt:0,rt:0,select:!1,start:!1,leftStickBtn:!1,rightStickBtn:!1,dpadUp:!1,dpadDown:!1,dpadLeft:!1,dpadRight:!1},axes:[],timestamp:0}),l=(0,a.useRef)(n),c=(0,a.useRef)(void 0),s=(0,a.useRef)(t.actions);(0,a.useEffect)(()=>{s.current=t.actions},[t.actions]);let i=(0,a.useCallback)(e=>{let t=e.id.toLowerCase();return t.includes("xbox")||t.includes("xinput")?"Xbox":t.includes("playstation")||t.includes("dualshock")||t.includes("dualsense")?"PlayStation":t.includes("nintendo")||t.includes("switch")?"Nintendo":"Generic"},[]),d=(0,a.useCallback)(e=>Math.abs(e)<t.deadzone?0:e,[t.deadzone]),u=(0,a.useCallback)((e,t,n)=>{var a,r,o,l,c,i,d,u,b,p,g,x;if(!t||n)return;let f=s.current;switch(e){case"a":null==(a=f.onPrimaryAction)||a.call(f);break;case"b":null==(r=f.onSecondaryAction)||r.call(f);break;case"x":null==(o=f.onTertiaryAction)||o.call(f);break;case"y":null==(l=f.onQuaternaryAction)||l.call(f);break;case"start":null==(c=f.onMenuToggle)||c.call(f);break;case"select":null==(i=f.onBackAction)||i.call(f);break;case"dpadUp":null==(d=f.onNavigateUp)||d.call(f);break;case"dpadDown":null==(u=f.onNavigateDown)||u.call(f);break;case"dpadLeft":null==(b=f.onNavigateLeft)||b.call(f);break;case"dpadRight":null==(p=f.onNavigateRight)||p.call(f);break;case"lb":null==(g=f.onValueDecrease)||g.call(f);break;case"rb":null==(x=f.onValueIncrease)||x.call(f)}},[s]),b=(0,a.useCallback)((e,n)=>{let a=s.current;if(a.onCameraRotate){let r=(e.rightStick.x-n.rightStick.x)*t.sensitivity,o=(e.rightStick.y-n.rightStick.y)*t.sensitivity;(Math.abs(r)>.01||Math.abs(o)>.01)&&a.onCameraRotate(r,o)}if(a.onCameraMove&&(Math.abs(e.leftStick.x)>.01||Math.abs(e.leftStick.y)>.01)&&a.onCameraMove(e.leftStick.x*t.sensitivity,e.leftStick.y*t.sensitivity),a.onCameraZoom){let n=e.buttons.rt-e.buttons.lt;Math.abs(n)>.01&&a.onCameraZoom(n*t.sensitivity)}a.onFineTuneIncrease&&e.buttons.rt>.1&&n.buttons.rt<=.1&&a.onFineTuneIncrease(),a.onFineTuneDecrease&&e.buttons.lt>.1&&n.buttons.lt<=.1&&a.onFineTuneDecrease()},[t.sensitivity]),p=(0,a.useCallback)(()=>{var e,t,a,r,c,s,p,g,x,f,y,m,h,v,k,j;let S=navigator.getGamepads()[0];if(!S||!S.connected){n.connected&&o(e=>({...e,connected:!1,controllerType:"Unknown"}));return}let w={connected:!0,controllerType:i(S),leftStick:{x:d(S.axes[0]||0),y:d(-(S.axes[1]||0))},rightStick:{x:d(S.axes[2]||0),y:d(-(S.axes[3]||0))},buttons:{a:(null==(e=S.buttons[0])?void 0:e.pressed)||!1,b:(null==(t=S.buttons[1])?void 0:t.pressed)||!1,x:(null==(a=S.buttons[2])?void 0:a.pressed)||!1,y:(null==(r=S.buttons[3])?void 0:r.pressed)||!1,lb:(null==(c=S.buttons[4])?void 0:c.pressed)||!1,rb:(null==(s=S.buttons[5])?void 0:s.pressed)||!1,lt:(null==(p=S.buttons[6])?void 0:p.value)||0,rt:(null==(g=S.buttons[7])?void 0:g.value)||0,select:(null==(x=S.buttons[8])?void 0:x.pressed)||!1,start:(null==(f=S.buttons[9])?void 0:f.pressed)||!1,leftStickBtn:(null==(y=S.buttons[10])?void 0:y.pressed)||!1,rightStickBtn:(null==(m=S.buttons[11])?void 0:m.pressed)||!1,dpadUp:(null==(h=S.buttons[12])?void 0:h.pressed)||!1,dpadDown:(null==(v=S.buttons[13])?void 0:v.pressed)||!1,dpadLeft:(null==(k=S.buttons[14])?void 0:k.pressed)||!1,dpadRight:(null==(j=S.buttons[15])?void 0:j.pressed)||!1},axes:Array.from(S.axes),timestamp:S.timestamp},N=l.current;Object.entries(w.buttons).forEach(e=>{let[t,n]=e;if("boolean"==typeof n){let e=N.buttons[t];u(t,n,e)}}),b(w,N),o(w),l.current=w},[n.connected,i,d,u,b]),g=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!t.enableHaptics||!n.connected)return;let r=navigator.getGamepads()[0];if(r&&"vibrationActuator"in r&&r.vibrationActuator){var o,l;null==(o=(l=r.vibrationActuator).playEffect)||o.call(l,"dual-rumble",{duration:a,strongMagnitude:e,weakMagnitude:.7*e}).catch(()=>{})}},[t.enableHaptics,n.connected]);return(0,a.useEffect)(()=>{let e=e=>{console.log("\uD83C\uDFAE Controller connected: ".concat(e.gamepad.id)),t.enableHaptics&&g(.3,200)},n=e=>{console.log("\uD83C\uDFAE Controller disconnected: ".concat(e.gamepad.id))};return c.current=window.setInterval(p,t.pollRate),window.addEventListener("gamepadconnected",e),window.addEventListener("gamepaddisconnected",n),()=>{c.current&&clearInterval(c.current),window.removeEventListener("gamepadconnected",e),window.removeEventListener("gamepaddisconnected",n)}},[p,t.pollRate,t.enableHaptics,g]),{gamepadState:n,triggerHapticFeedback:g,isConnected:n.connected,controllerType:n.controllerType}}},4054:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return c}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return r?new r:new a}function l(e){return r?r.bind(e):a.bind(e)}function c(){return r?r.snapshot():function(e,...t){return e(...t)}}},4416:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5028:(e,t,n)=>{n.d(t,{default:()=>r.a});var a=n(6645),r=n.n(a)},5169:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5744:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=n(7828)},6645:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let a=n(8229)._(n(7357));function r(e,t){var n;let r={};"function"==typeof e&&(r.loader=e);let o={...r,...t};return(0,a.default)({...o,modules:null==(n=o.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=n(5155),r=n(2115),o=n(2146);function l(e){return{default:e&&"default"in e?e.default:e}}n(255);let c={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},s=function(e){let t={...c,...e},n=(0,r.lazy)(()=>t.loader().then(l)),s=t.loading;function i(e){let l=s?(0,a.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,c=!t.ssr||!!t.loading,i=c?r.Suspense:r.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(n,{...e})]}):(0,a.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,{...e})});return(0,a.jsx)(i,{...c?{fallback:l}:{},children:d})}return i.displayName="LoadableComponent",i}},7828:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,n(4054).createAsyncLocalStorage)()},7899:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(5155),r=n(2115),o=n(288),l=n(4416),c=n(3026);let s=[{control:"Right Stick",action:"Rotate camera",category:"3D Navigation"},{control:"Left Stick",action:"Move camera",category:"3D Navigation"},{control:"Triggers",action:"Zoom in/out",category:"3D Navigation"},{control:"A/X Button",action:"Primary action",category:"Actions"},{control:"B/Circle",action:"Back/Cancel",category:"Actions"},{control:"Start/Options",action:"Toggle help",category:"System"}],i={blue:{bg:"bg-blue-500/20",border:"border-blue-400/30",text:"text-blue-400",textSecondary:"text-blue-300",button:"bg-blue-600 hover:bg-blue-700"},green:{bg:"bg-green-500/20",border:"border-green-400/30",text:"text-green-400",textSecondary:"text-green-300",button:"bg-green-600 hover:bg-green-700"},purple:{bg:"bg-purple-500/20",border:"border-purple-400/30",text:"text-purple-400",textSecondary:"text-purple-300",button:"bg-purple-600 hover:bg-purple-700"},orange:{bg:"bg-orange-500/20",border:"border-orange-400/30",text:"text-orange-400",textSecondary:"text-orange-300",button:"bg-orange-600 hover:bg-orange-700"},red:{bg:"bg-red-500/20",border:"border-red-400/30",text:"text-red-400",textSecondary:"text-red-300",button:"bg-red-600 hover:bg-red-700"},cyan:{bg:"bg-cyan-500/20",border:"border-cyan-400/30",text:"text-cyan-400",textSecondary:"text-cyan-300",button:"bg-cyan-600 hover:bg-cyan-700"}},d={"top-left":"top-4 left-4","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4"},u=function(e){let{position:t="top-left",showHelpButton:n=!0,accentColor:u="blue",actions:b={},controllerOptions:p={},helpItems:g=s,pageTitle:x="Test Page",autoShowHelp:f=!0,autoHideDelay:y=4e3}=e,[m,h]=(0,r.useState)(!1),v=i[u],k={...b,onMenuToggle:()=>{var e;h(e=>!e),null==(e=b.onMenuToggle)||e.call(b)}},{isConnected:j,controllerType:S,triggerHapticFeedback:w}=(0,c.V)({deadzone:.15,sensitivity:1,enableHaptics:!0,...p,actions:k});(0,r.useEffect)(()=>{if(j&&f&&(h(!0),y>0)){let e=setTimeout(()=>h(!1),y);return()=>clearTimeout(e)}},[j,f,y]);let N=g.reduce((e,t)=>{let n=t.category||"General";return e[n]||(e[n]=[]),e[n].push(t),e},{});return j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute ".concat(d[t]," z-40 flex items-center space-x-3"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 ".concat(v.bg," border ").concat(v.border," rounded-lg backdrop-blur-sm"),children:[(0,a.jsx)(o.A,{className:"w-4 h-4 ".concat(v.text)}),(0,a.jsx)("span",{className:"text-sm ".concat(v.textSecondary),children:S}),n&&(0,a.jsx)("button",{onClick:()=>{h(!0),w(.3,75)},className:"text-xs px-2 py-1 ".concat(v.button," rounded transition-colors"),children:"Help"})]})}),m&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-slate-900/95 border ".concat(v.border," rounded-xl p-8 max-w-2xl text-center space-y-6 relative"),children:[(0,a.jsx)("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 p-2 hover:bg-slate-800/50 rounded-lg transition-colors",children:(0,a.jsx)(l.A,{className:"w-5 h-5 text-slate-400 hover:text-white"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 ".concat(v.text),children:[(0,a.jsx)(o.A,{className:"w-8 h-8"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:[S," Controller"]}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:x})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:Object.entries(N).map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-semibold ".concat(v.text," border-b ").concat(v.border," pb-2"),children:t}),(0,a.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-slate-300 font-medium",children:[e.control,":"]}),(0,a.jsx)("span",{className:"text-slate-400",children:e.action})]},t))})]},t)})}),(0,a.jsxs)("div",{className:"pt-4 border-t border-slate-700/50",children:[(0,a.jsx)("button",{onClick:()=>h(!1),className:"px-6 py-3 ".concat(v.button," rounded-lg transition-colors font-medium"),children:"Start Using Controller!"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Press Start/Options anytime to toggle this help"})]})]})})]}):null}}}]);